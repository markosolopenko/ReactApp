{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { getCreatedProducts, getCreatedProductsById } from '../api/getCreatedProducts';\nexport const fetchCreatedProducts = createAsyncThunk(\"api/getCreatedProducts\", async () => {\n  return await getCreatedProducts();\n});\nexport const fetchCreatedProductsById = createAsyncThunk(\"api/getCreatedProductsById\", async id => {\n  return await getCreatedProductsById(id);\n});\nexport const formSlice = createSlice({\n  name: 'formSlice',\n  initialState: {\n    products: [],\n    productById: {},\n    error: null,\n    status: '',\n    formInitState: {}\n  },\n  reducers: {\n    setForAddProduct(state) {\n      state.formInitState = {\n        name: '',\n        price: '',\n        origin: ''\n      };\n    },\n\n    setForEditProduct(state, action) {\n      state.formInitState = state.products.filter(product => {\n        return product.id === action.payload.id;\n      });\n    }\n\n  },\n  extraReducers: {\n    [fetchCreatedProducts.fulfilled]: (state, action) => {\n      state.status = 'succeeded';\n      state.products = action.payload;\n      state.error = null;\n    },\n    [fetchCreatedProductsById.fulfilled]: (state, action) => {\n      const {\n        name,\n        price,\n        origin\n      } = action.payload;\n      state.status = 'succeeded';\n      state.productById = {\n        name,\n        price,\n        origin\n      };\n      state.error = null;\n    }\n  }\n});\nexport const {\n  setForAddProduct,\n  setForEditProduct\n} = formSlice.actions;","map":{"version":3,"sources":["/home/marko/projects/ReactDevelop/react_app/src/features/formSlice.js"],"names":["createSlice","createAsyncThunk","getCreatedProducts","getCreatedProductsById","fetchCreatedProducts","fetchCreatedProductsById","id","formSlice","name","initialState","products","productById","error","status","formInitState","reducers","setForAddProduct","state","price","origin","setForEditProduct","action","filter","product","payload","extraReducers","fulfilled","actions"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C;AACA,SAASC,kBAAT,EAA6BC,sBAA7B,QAA2D,2BAA3D;AAEA,OAAO,MAAMC,oBAAoB,GAAGH,gBAAgB,CAChD,wBADgD,EAEhD,YAAY;AACR,SAAO,MAAMC,kBAAkB,EAA/B;AACH,CAJ+C,CAA7C;AAMP,OAAO,MAAMG,wBAAwB,GAAGJ,gBAAgB,CACpD,4BADoD,EAEpD,MAAOK,EAAP,IAAc;AACV,SAAO,MAAMH,sBAAsB,CAACG,EAAD,CAAnC;AACH,CAJmD,CAAjD;AAOP,OAAO,MAAMC,SAAS,GAAGP,WAAW,CAAC;AACjCQ,EAAAA,IAAI,EAAE,WAD2B;AAEjCC,EAAAA,YAAY,EAAE;AACVC,IAAAA,QAAQ,EAAE,EADA;AAEVC,IAAAA,WAAW,EAAE,EAFH;AAGVC,IAAAA,KAAK,EAAE,IAHG;AAIVC,IAAAA,MAAM,EAAE,EAJE;AAKVC,IAAAA,aAAa,EAAE;AALL,GAFmB;AASjCC,EAAAA,QAAQ,EAAE;AACNC,IAAAA,gBAAgB,CAACC,KAAD,EAAQ;AACpBA,MAAAA,KAAK,CAACH,aAAN,GAAsB;AAACN,QAAAA,IAAI,EAAE,EAAP;AAAWU,QAAAA,KAAK,EAAE,EAAlB;AAAsBC,QAAAA,MAAM,EAAE;AAA9B,OAAtB;AACH,KAHK;;AAINC,IAAAA,iBAAiB,CAACH,KAAD,EAAQI,MAAR,EAAgB;AAC7BJ,MAAAA,KAAK,CAACH,aAAN,GAAsBG,KAAK,CAACP,QAAN,CAAeY,MAAf,CAAsBC,OAAO,IAAI;AACnD,eAAOA,OAAO,CAACjB,EAAR,KAAee,MAAM,CAACG,OAAP,CAAelB,EAArC;AACH,OAFqB,CAAtB;AAGH;;AARK,GATuB;AAmBjCmB,EAAAA,aAAa,EAAE;AACX,KAACrB,oBAAoB,CAACsB,SAAtB,GAAkC,CAACT,KAAD,EAAQI,MAAR,KAAmB;AACjDJ,MAAAA,KAAK,CAACJ,MAAN,GAAe,WAAf;AACAI,MAAAA,KAAK,CAACP,QAAN,GAAiBW,MAAM,CAACG,OAAxB;AACAP,MAAAA,KAAK,CAACL,KAAN,GAAc,IAAd;AACH,KALU;AAMX,KAACP,wBAAwB,CAACqB,SAA1B,GAAsC,CAACT,KAAD,EAAQI,MAAR,KAAmB;AACrD,YAAM;AAACb,QAAAA,IAAD;AAAOU,QAAAA,KAAP;AAAcC,QAAAA;AAAd,UAAwBE,MAAM,CAACG,OAArC;AACAP,MAAAA,KAAK,CAACJ,MAAN,GAAe,WAAf;AACAI,MAAAA,KAAK,CAACN,WAAN,GAAoB;AAACH,QAAAA,IAAD;AAAOU,QAAAA,KAAP;AAAcC,QAAAA;AAAd,OAApB;AACAF,MAAAA,KAAK,CAACL,KAAN,GAAc,IAAd;AACH;AAXU;AAnBkB,CAAD,CAA7B;AAmCP,OAAO,MAAM;AAACI,EAAAA,gBAAD;AAAmBI,EAAAA;AAAnB,IAAwCb,SAAS,CAACoB,OAAxD","sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { getCreatedProducts, getCreatedProductsById } from '../api/getCreatedProducts';\n\nexport const fetchCreatedProducts = createAsyncThunk(\n    \"api/getCreatedProducts\",\n    async () => {\n        return await getCreatedProducts()\n    }\n)\nexport const fetchCreatedProductsById = createAsyncThunk(\n    \"api/getCreatedProductsById\",\n    async (id) => {\n        return await getCreatedProductsById(id)\n    }\n)\n\nexport const formSlice = createSlice({\n    name: 'formSlice',\n    initialState: {\n        products: [],\n        productById: {},\n        error: null,\n        status: '',\n        formInitState: {}\n    },\n    reducers: {\n        setForAddProduct(state) {\n            state.formInitState = {name: '', price: '', origin: ''}\n        },\n        setForEditProduct(state, action) {\n            state.formInitState = state.products.filter(product => {\n                return product.id === action.payload.id\n            }) \n        }\n    },\n    extraReducers: {\n        [fetchCreatedProducts.fulfilled]: (state, action) => {\n            state.status = 'succeeded'\n            state.products = action.payload\n            state.error = null\n        },\n        [fetchCreatedProductsById.fulfilled]: (state, action) => {\n            const {name, price, origin} = action.payload\n            state.status = 'succeeded'\n            state.productById = {name, price, origin}\n            state.error = null\n        }\n    }\n})\n\n\nexport const {setForAddProduct, setForEditProduct} = formSlice.actions\n\n"]},"metadata":{},"sourceType":"module"}