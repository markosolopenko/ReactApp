{"ast":null,"code":"import { call, put, select, takeEvery } from 'redux-saga/effects';\nimport { getProducts, getProdcutById } from '../api/getProducts';\nimport { fetchProducts, setProductId, loadData, setProductToDetailsPage } from '../features/productsSlice';\n\nfunction* fetchProductsWorker() {\n  const store = state => state;\n\n  const {\n    productsSlice\n  } = yield select(store);\n  const {\n    page,\n    perPage,\n    origins,\n    minPrice,\n    maxPrice\n  } = productsSlice;\n  const data = yield call(getProducts, page, perPage, origins, minPrice, maxPrice);\n  yield put(fetchProducts(data.items));\n}\n\nfunction* fetchProductByIdWorker() {\n  const store = state => state;\n\n  const {\n    productsSlice\n  } = yield select(store);\n  const {\n    productId\n  } = productsSlice;\n  const data = yield call(getProdcutById, productId);\n  yield put(setProductToDetailsPage(data));\n}\n\nexport function* watchFetchProducts() {\n  yield takeEvery(loadData.type, fetchProductsWorker);\n  yield takeEvery(setProductId.type, fetchProductByIdWorker);\n}","map":{"version":3,"sources":["/home/marko/projects/ReactDevelop/react_app/src/redux-saga/productsSaga.js"],"names":["call","put","select","takeEvery","getProducts","getProdcutById","fetchProducts","setProductId","loadData","setProductToDetailsPage","fetchProductsWorker","store","state","productsSlice","page","perPage","origins","minPrice","maxPrice","data","items","fetchProductByIdWorker","productId","watchFetchProducts","type"],"mappings":"AAAA,SAASA,IAAT,EAAeC,GAAf,EAAoBC,MAApB,EAA4BC,SAA5B,QAA6C,oBAA7C;AACA,SAASC,WAAT,EAAsBC,cAAtB,QAA4C,oBAA5C;AACA,SAAQC,aAAR,EAAuBC,YAAvB,EAAqCC,QAArC,EACQC,uBADR,QAEO,2BAFP;;AAKA,UAAUC,mBAAV,GAAgC;AAC5B,QAAMC,KAAK,GAAIC,KAAD,IAAWA,KAAzB;;AACA,QAAM;AAACC,IAAAA;AAAD,MAAkB,MAAMX,MAAM,CAACS,KAAD,CAApC;AACA,QAAM;AAACG,IAAAA,IAAD;AAAOC,IAAAA,OAAP;AAAgBC,IAAAA,OAAhB;AAAyBC,IAAAA,QAAzB;AAAmCC,IAAAA;AAAnC,MAA+CL,aAArD;AACA,QAAMM,IAAI,GAAG,MAAMnB,IAAI,CAACI,WAAD,EAAcU,IAAd,EAAoBC,OAApB,EAA6BC,OAA7B,EAAsCC,QAAtC,EAAgDC,QAAhD,CAAvB;AACA,QAAMjB,GAAG,CAACK,aAAa,CAACa,IAAI,CAACC,KAAN,CAAd,CAAT;AACH;;AACD,UAAUC,sBAAV,GAAmC;AAC/B,QAAMV,KAAK,GAAIC,KAAD,IAAWA,KAAzB;;AACA,QAAM;AAACC,IAAAA;AAAD,MAAkB,MAAMX,MAAM,CAACS,KAAD,CAApC;AACA,QAAM;AAACW,IAAAA;AAAD,MAAcT,aAApB;AACA,QAAMM,IAAI,GAAG,MAAMnB,IAAI,CAACK,cAAD,EAAiBiB,SAAjB,CAAvB;AACA,QAAMrB,GAAG,CAACQ,uBAAuB,CAACU,IAAD,CAAxB,CAAT;AACH;;AAED,OAAO,UAAUI,kBAAV,GAA+B;AAClC,QAAMpB,SAAS,CAACK,QAAQ,CAACgB,IAAV,EAAgBd,mBAAhB,CAAf;AACA,QAAMP,SAAS,CAACI,YAAY,CAACiB,IAAd,EAAoBH,sBAApB,CAAf;AACH","sourcesContent":["import { call, put, select, takeEvery } from 'redux-saga/effects';\nimport { getProducts, getProdcutById } from '../api/getProducts';\nimport {fetchProducts, setProductId, loadData,\n        setProductToDetailsPage \n} from '../features/productsSlice';\n\n\nfunction* fetchProductsWorker() {\n    const store = (state) => state;\n    const {productsSlice} = yield select(store);\n    const {page, perPage, origins, minPrice, maxPrice} = productsSlice;\n    const data = yield call(getProducts, page, perPage, origins, minPrice, maxPrice);\n    yield put(fetchProducts(data.items));\n}\nfunction* fetchProductByIdWorker() {\n    const store = (state) => state;\n    const {productsSlice} = yield select(store);\n    const {productId} = productsSlice;\n    const data = yield call(getProdcutById, productId);\n    yield put(setProductToDetailsPage(data))\n}\n\nexport function* watchFetchProducts() {\n    yield takeEvery(loadData.type, fetchProductsWorker);\n    yield takeEvery(setProductId.type, fetchProductByIdWorker);\n}\n"]},"metadata":{},"sourceType":"module"}