{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { getCreatedProducts, getCreatedProductsById } from '../api/getCreatedProducts';\nimport { getOrderProductsByNickname } from '../api/getOrderProducts';\nexport const fetchCreatedProducts = createAsyncThunk(\"api/getCreatedProducts\", async () => {\n  return await getCreatedProducts();\n});\nexport const fetchCreatedProductsById = createAsyncThunk(\"api/getCreatedProductsById\", async id => {\n  return await getCreatedProductsById(id);\n});\nexport const fetchOrderProductsByNickname = createAsyncThunk(\"api/getOrderProductsByNickname\", async nickname => {\n  return await getOrderProductsByNickname(nickname);\n});\nexport const formSlice = createSlice({\n  name: 'formSlice',\n  initialState: {\n    products: [],\n    productById: {\n      name: '',\n      price: '',\n      origin: ''\n    },\n    error: null,\n    status: '',\n    editing: false,\n    id: '',\n    productByNickname: [],\n    dateOfOrder: \"\",\n    nickname: 'Timo',\n    orderedProducts: {}\n  },\n  reducers: {\n    setProductForEdit(state, action) {\n      state.productById = action.payload.product;\n    },\n\n    resetEditForm(state, action) {\n      state.productById = action.payload.product;\n    },\n\n    setId(state, action) {\n      state.id = action.payload.id;\n    },\n\n    setNickname(state, action) {\n      state.nickname = action.payload.nickname;\n    },\n\n    setOrderedProductAmount(state, action) {\n      const {\n        name,\n        amount\n      } = action.payload;\n      state.orderedProducts[name] = amount;\n    }\n\n  },\n  extraReducers: {\n    [fetchCreatedProducts.fulfilled]: (state, action) => {\n      state.status = 'succeeded';\n      state.products = action.payload;\n      state.error = undefined;\n    },\n    [fetchCreatedProductsById.fulfilled]: (state, action) => {\n      state.status = 'succeeded';\n      state.productById = action.payload;\n      state.error = null;\n    },\n    [fetchOrderProductsByNickname.fulfilled]: (state, action) => {\n      console.log(action.payload);\n\n      if (action.payload) {\n        state.status = 'succeeded';\n        state.productByNickname = action.payload.orderedProducts;\n        state.error = undefined;\n        state.dateOfOrder = action.payload.date;\n        state.orderedProducts = action.payload.amountOrderedProducts;\n      }\n    }\n  }\n});\nexport const {\n  setProductForEdit,\n  setId,\n  resetEditForm,\n  setDateOfOrder,\n  setNickname,\n  setOrderedProductAmount\n} = formSlice.actions;","map":{"version":3,"sources":["/home/marko/projects/ReactDevelop/react_app/src/features/formSlice.js"],"names":["createSlice","createAsyncThunk","getCreatedProducts","getCreatedProductsById","getOrderProductsByNickname","fetchCreatedProducts","fetchCreatedProductsById","id","fetchOrderProductsByNickname","nickname","formSlice","name","initialState","products","productById","price","origin","error","status","editing","productByNickname","dateOfOrder","orderedProducts","reducers","setProductForEdit","state","action","payload","product","resetEditForm","setId","setNickname","setOrderedProductAmount","amount","extraReducers","fulfilled","undefined","console","log","date","amountOrderedProducts","setDateOfOrder","actions"],"mappings":"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","sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { getCreatedProducts, getCreatedProductsById } from '../api/getCreatedProducts';\nimport { getOrderProductsByNickname } from '../api/getOrderProducts';\n\nexport const fetchCreatedProducts = createAsyncThunk(\n    \"api/getCreatedProducts\",\n    async () => {\n        return await getCreatedProducts()\n    }\n)\nexport const fetchCreatedProductsById = createAsyncThunk(\n    \"api/getCreatedProductsById\",\n    async (id) => {\n        return await getCreatedProductsById(id)\n    }\n)\n\nexport const fetchOrderProductsByNickname = createAsyncThunk(\n    \"api/getOrderProductsByNickname\",\n    async (nickname) => {\n        return await getOrderProductsByNickname(nickname)\n        \n    }\n)\n\nexport const formSlice = createSlice({\n    name: 'formSlice',\n    initialState: {\n        products: [],\n        productById: {name: '', price: '', origin: ''},\n        error: null,\n        status: '',\n        editing: false,\n        id: '',\n        productByNickname: [],\n        dateOfOrder: \"\",\n        nickname: 'Timo',\n        orderedProducts: {}\n    },\n    reducers: {\n        setProductForEdit(state, action) {\n            state.productById = action.payload.product\n        },\n        resetEditForm(state, action) {\n            state.productById = action.payload.product\n        },\n        setId(state, action) {\n            state.id = action.payload.id\n        },\n        setNickname(state, action) {\n            state.nickname = action.payload.nickname\n        },\n        setOrderedProductAmount(state, action) {\n            const {name, amount} = action.payload\n            state.orderedProducts[name] = amount\n        }\n    },\n    extraReducers: {\n        [fetchCreatedProducts.fulfilled]: (state, action) => {\n            state.status = 'succeeded'\n            state.products = action.payload\n            state.error = undefined\n        },\n        [fetchCreatedProductsById.fulfilled]: (state, action) => {\n            state.status = 'succeeded'\n            state.productById = action.payload\n            state.error = null\n        },\n        [fetchOrderProductsByNickname.fulfilled]: (state, action) => {\n            console.log(action.payload);\n            if(action.payload) {\n                state.status = 'succeeded'\n                state.productByNickname = action.payload.orderedProducts\n                state.error = undefined\n                state.dateOfOrder = action.payload.date \n                state.orderedProducts = action.payload.amountOrderedProducts\n            }\n              \n        },\n    }\n})\n\n\nexport const { \n    setProductForEdit,\n    setId,\n    resetEditForm,\n    setDateOfOrder,\n    setNickname,\n    setOrderedProductAmount\n} = formSlice.actions\n\n"]},"metadata":{},"sourceType":"module"}